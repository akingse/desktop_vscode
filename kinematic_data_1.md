# matlab运算数据

使用md记录
'''插入代码块，并没有颜色加成'''
> 这是一句引用，前面有竖线
*斜体* 
**粗体，不是特别明显**
## 试试二级标题
分割线走起，好像并不能显示
***
可插入连接，[知乎](www.zhihu.com) 
插入图片，![显示文本](图片链接地址)
## 二级标题之间可以折叠





a= a8*sin(th9)*(a8 + d7*sin(th8))*(cos(th5)*cos(th9)*sin(th8) - sin(th5)*sin(th6)*sin(th9) + cos(th6)*cos(th8)*cos(th9)*sin(th5))//*cos(th9)^2
b=-a8*cos(th9)*(a8 + d7*sin(th8))*(cos(th9)*sin(th5)*sin(th6) + cos(th5)*sin(th8)*sin(th9) + cos(th6)*cos(th8)*sin(th5)*sin(th9))//*sin(th9)^2
c=a8*(a8 + d7*sin(th8))*(cos(th5)*sin(th8)-2*cos(th5)*cos(th9)^2*sin(th8)+cos(th6)*cos(th8)*sin(th5)-2*cos(th6)*cos(th8)*cos(th9)^2*sin(th5)+2*cos(th9)*sin(th5)*sin(th6)*sin(th9))
d=-sin(th9)*(a8 + d7*sin(th8))*(d7*cos(th5) + a8*cos(th5)*sin(th8) + a8*cos(th6)*cos(th8)*sin(th5))
e= cos(th9)*(a8 + d7*sin(th8))*(d7*cos(th5) + a8*cos(th5)*sin(th8) + a8*cos(th6)*cos(th8)*sin(th5))

a8^2*(a8 + d7*sin(th8))^2*(cos(th5)*sin(th8) + cos(th6)*cos(th8)*sin(th5))^2

int det;
-a2*a3*sin(th5)*(
    + (d5*cos(th2 + 2*th3 + th4)) - (d5*cos(th2 + th4))
    - (a2*sin(th2 + th3)) + (a2*sin(th2 - th3))
    + (a3*sin(th2)) - (a3*sin(th2 + 2*th3))
)/2



ans=雅可比矩阵 R
[d6*cos(th2+th3+th4)*cos(th6)*sin(th5)^2-d4*sin(th2+th3+th4)*sin(th6)-a2*cos(th2)*cos(th6)*sin(th5)+d4*cos(th2+th3+th4)*cos(th5)*cos(th6)-d5*sin(th2+th3+th4)*cos(th6)*sin(th5)-d6*sin(th2+th3+th4)*cos(th5)*sin(th6)+d6*cos(th2+th3+th4)*cos(th5)^2*cos(th6)-a3*cos(th2)*cos(th3)*cos(th6)*sin(th5)+a3*cos(th6)*sin(th2)*sin(th3)*sin(th5),d5*cos(th5)*cos(th6)+a3*cos(th4)*sin(th6)-d6*sin(th5)*sin(th6)+a2*cos(th3)*cos(th4)*sin(th6)+a3*cos(th5)*cos(th6)*sin(th4)-a2*sin(th3)*sin(th4)*sin(th6)+a2*cos(th3)*cos(th5)*cos(th6)*sin(th4)+a2*cos(th4)*cos(th5)*cos(th6)*sin(th3),d5*cos(th5)*cos(th6)+a3*cos(th4)*sin(th6)-d6*sin(th5)*sin(th6)+a3*cos(th5)*cos(th6)*sin(th4),d5*cos(th5)*cos(th6)-d6*sin(th5)*sin(th6),-d6*cos(th6),0]
[a2*cos(th2)*sin(th5)*sin(th6)-d6*cos(th2+th3+th4)*cos(th5)^2*sin(th6)-d6*cos(th2+th3+th4)*sin(th5)^2*sin(th6)-d4*sin(th2+th3+th4)*cos(th6)-d4*cos(th2+th3+th4)*cos(th5)*sin(th6)-d6*sin(th2+th3+th4)*cos(th5)*cos(th6)+d5*sin(th2+th3+th4)*sin(th5)*sin(th6)+a3*cos(th2)*cos(th3)*sin(th5)*sin(th6)-a3*sin(th2)*sin(th3)*sin(th5)*sin(th6),a3*cos(th4)*cos(th6)-d5*cos(th5)*sin(th6)-d6*cos(th6)*sin(th5)+a2*cos(th3)*cos(th4)*cos(th6)-a2*cos(th6)*sin(th3)*sin(th4)-a3*cos(th5)*sin(th4)*sin(th6)-a2*cos(th3)*cos(th5)*sin(th4)*sin(th6)-a2*cos(th4)*cos(th5)*sin(th3)*sin(th6),a3*cos(th4)*cos(th6)-d5*cos(th5)*sin(th6)-d6*cos(th6)*sin(th5)-a3*cos(th5)*sin(th4)*sin(th6),-d5*cos(th5)*sin(th6)-d6*cos(th6)*sin(th5),d6*sin(th6),0]
[(d4*sin(th2+th3+th4-th5))/2-(d4*sin(th2+th3+th4+th5))/2-(d5*sin(th2+th3+th4+th5))/2-(a2*cos(th2+th5))/2-(a3*cos(th2+th3-th5))/2-(d5*sin(th2+th3+th4-th5))/2-(a2*cos(th2-th5))/2-(a3*cos(th2+th3+th5))/2,-sin(th5)*(d5+a2*sin(th3+th4)+a3*sin(th4)),-sin(th5)*(d5+a3*sin(th4)),-d5*sin(th5),0,0]
[cos(th2+th3+th4)*sin(th6)+sin(th2+th3+th4)*cos(th5)*cos(th6),cos(th6)*sin(th5),cos(th6)*sin(th5),cos(th6)*sin(th5),-sin(th6),0]
[cos(th2+th3+th4)*cos(th6)-sin(th2+th3+th4)*cos(th5)*sin(th6),-sin(th5)*sin(th6),-sin(th5)*sin(th6),-sin(th5)*sin(th6),-cos(th6),0]
[-sin(th2+th3+th4)*sin(th5),cos(th5),cos(th5),cos(th5),0,1]

ans=雅可比矩阵 V
[a8*cos(th5)*cos(th8)*sin(th9)-d7*cos(th6)*sin(th5)*sin(th9)-d7*cos(th8)*cos(th9)*sin(th5)*sin(th6)-a8*cos(th6)*sin(th5)*sin(th8)*sin(th9),d7*sin(th6)*sin(th9)-d7*cos(th6)*cos(th8)*cos(th9)+a8*sin(th6)*sin(th8)*sin(th9),a8*cos(th8)*sin(th9),cos(th9)*sin(th8),0,0]
[a9*cos(th5)*cos(th8)+a8*cos(th5)*cos(th8)*cos(th9)-d7*cos(th6)*cos(th9)*sin(th5)-a9*cos(th6)*sin(th5)*sin(th8)-a8*cos(th6)*cos(th9)*sin(th5)*sin(th8)+d7*cos(th8)*sin(th5)*sin(th6)*sin(th9),d7*cos(th9)*sin(th6)+a9*sin(th6)*sin(th8)+d7*cos(th6)*cos(th8)*sin(th9)+a8*cos(th9)*sin(th6)*sin(th8),cos(th8)*(a9+a8*cos(th9)),-sin(th8)*sin(th9),0,a9]
[a8*sin(th5)*sin(th6)+a9*cos(th9)*sin(th5)*sin(th6)+a9*cos(th5)*sin(th8)*sin(th9)+d7*sin(th5)*sin(th6)*sin(th8)+a9*cos(th6)*cos(th8)*sin(th5)*sin(th9),a8*cos(th6)+a9*cos(th6)*cos(th9)+d7*cos(th6)*sin(th8)-a9*cos(th8)*sin(th6)*sin(th9),a9*sin(th8)*sin(th9),cos(th8),a8+a9*cos(th9),0]
[cos(th9)*(cos(th5)*sin(th8)+cos(th6)*cos(th8)*sin(th5))-sin(th5)*sin(th6)*sin(th9),-cos(th6)*sin(th9)-cos(th8)*cos(th9)*sin(th6),cos(th9)*sin(th8),0,-sin(th9),0]
[-sin(th9)*(cos(th5)*sin(th8)+cos(th6)*cos(th8)*sin(th5))-cos(th9)*sin(th5)*sin(th6),cos(th8)*sin(th6)*sin(th9)-cos(th6)*cos(th9),-sin(th8)*sin(th9),0,-cos(th9),0]
[cos(th5)*cos(th8)-cos(th6)*sin(th5)*sin(th8),sin(th6)*sin(th8),cos(th8),0,0,1]



ans=转置 V
[a8*cos(th5)*cos(th8)*sin(th9)-d7*cos(th6)*sin(th5)*sin(th9)-d7*cos(th8)*cos(th9)*sin(th5)*sin(th6)-a8*cos(th6)*sin(th5)*sin(th8)*sin(th9),a9*cos(th5)*cos(th8)+a8*cos(th5)*cos(th8)*cos(th9)-d7*cos(th6)*cos(th9)*sin(th5)-a9*cos(th6)*sin(th5)*sin(th8)-a8*cos(th6)*cos(th9)*sin(th5)*sin(th8)+d7*cos(th8)*sin(th5)*sin(th6)*sin(th9),a8*sin(th5)*sin(th6)+a9*cos(th9)*sin(th5)*sin(th6)+a9*cos(th5)*sin(th8)*sin(th9)+d7*sin(th5)*sin(th6)*sin(th8)+a9*cos(th6)*cos(th8)*sin(th5)*sin(th9),cos(th9)*(cos(th5)*sin(th8)+cos(th6)*cos(th8)*sin(th5))-sin(th5)*sin(th6)*sin(th9),-sin(th9)*(cos(th5)*sin(th8)+cos(th6)*cos(th8)*sin(th5))-cos(th9)*sin(th5)*sin(th6),cos(th5)*cos(th8)-cos(th6)*sin(th5)*sin(th8)]
[d7*sin(th6)*sin(th9)-d7*cos(th6)*cos(th8)*cos(th9)+a8*sin(th6)*sin(th8)*sin(th9),d7*cos(th9)*sin(th6)+a9*sin(th6)*sin(th8)+d7*cos(th6)*cos(th8)*sin(th9)+a8*cos(th9)*sin(th6)*sin(th8),a8*cos(th6)+a9*cos(th6)*cos(th9)+d7*cos(th6)*sin(th8)-a9*cos(th8)*sin(th6)*sin(th9),-cos(th6)*sin(th9)-cos(th8)*cos(th9)*sin(th6),cos(th8)*sin(th6)*sin(th9)-cos(th6)*cos(th9),sin(th6)*sin(th8)]
[a8*cos(th8)*sin(th9),cos(th8)*(a9+a8*cos(th9)),a9*sin(th8)*sin(th9),cos(th9)*sin(th8),-sin(th8)*sin(th9),cos(th8)]
[cos(th9)*sin(th8),-sin(th8)*sin(th9),cos(th8),0,0,0]
[0,0,a8+a9*cos(th9),-sin(th9),-cos(th9),0]
[0,a9,0,0,0,1]

ans=转置 R
[d6*cos(th2+th3+th4)*cos(th6)*sin(th5)^2-d4*sin(th2+th3+th4)*sin(th6)-a2*cos(th2)*cos(th6)*sin(th5)+d4*cos(th2+th3+th4)*cos(th5)*cos(th6)-d5*sin(th2+th3+th4)*cos(th6)*sin(th5)-d6*sin(th2+th3+th4)*cos(th5)*sin(th6)+d6*cos(th2+th3+th4)*cos(th5)^2*cos(th6)-a3*cos(th2)*cos(th3)*cos(th6)*sin(th5)+a3*cos(th6)*sin(th2)*sin(th3)*sin(th5),a2*cos(th2)*sin(th5)*sin(th6)-d6*cos(th2+th3+th4)*cos(th5)^2*sin(th6)-d6*cos(th2+th3+th4)*sin(th5)^2*sin(th6)-d4*sin(th2+th3+th4)*cos(th6)-d4*cos(th2+th3+th4)*cos(th5)*sin(th6)-d6*sin(th2+th3+th4)*cos(th5)*cos(th6)+d5*sin(th2+th3+th4)*sin(th5)*sin(th6)+a3*cos(th2)*cos(th3)*sin(th5)*sin(th6)-a3*sin(th2)*sin(th3)*sin(th5)*sin(th6),(d4*sin(th2+th3+th4-th5))/2-(d4*sin(th2+th3+th4+th5))/2-(d5*sin(th2+th3+th4+th5))/2-(a2*cos(th2+th5))/2-(a3*cos(th2+th3-th5))/2-(d5*sin(th2+th3+th4-th5))/2-(a2*cos(th2-th5))/2-(a3*cos(th2+th3+th5))/2,cos(th2+th3+th4)*sin(th6)+sin(th2+th3+th4)*cos(th5)*cos(th6),cos(th2+th3+th4)*cos(th6)-sin(th2+th3+th4)*cos(th5)*sin(th6),-sin(th2+th3+th4)*sin(th5)]
[d5*cos(th5)*cos(th6)+a3*cos(th4)*sin(th6)-d6*sin(th5)*sin(th6)+a2*cos(th3)*cos(th4)*sin(th6)+a3*cos(th5)*cos(th6)*sin(th4)-a2*sin(th3)*sin(th4)*sin(th6)+a2*cos(th3)*cos(th5)*cos(th6)*sin(th4)+a2*cos(th4)*cos(th5)*cos(th6)*sin(th3),a3*cos(th4)*cos(th6)-d5*cos(th5)*sin(th6)-d6*cos(th6)*sin(th5)+a2*cos(th3)*cos(th4)*cos(th6)-a2*cos(th6)*sin(th3)*sin(th4)-a3*cos(th5)*sin(th4)*sin(th6)-a2*cos(th3)*cos(th5)*sin(th4)*sin(th6)-a2*cos(th4)*cos(th5)*sin(th3)*sin(th6),-sin(th5)*(d5+a2*sin(th3+th4)+a3*sin(th4)),cos(th6)*sin(th5),-sin(th5)*sin(th6),cos(th5)]
[d5*cos(th5)*cos(th6)+a3*cos(th4)*sin(th6)-d6*sin(th5)*sin(th6)+a3*cos(th5)*cos(th6)*sin(th4),a3*cos(th4)*cos(th6)-d5*cos(th5)*sin(th6)-d6*cos(th6)*sin(th5)-a3*cos(th5)*sin(th4)*sin(th6),-sin(th5)*(d5+a3*sin(th4)),cos(th6)*sin(th5),-sin(th5)*sin(th6),cos(th5)]
[d5*cos(th5)*cos(th6)-d6*sin(th5)*sin(th6),-d5*cos(th5)*sin(th6)-d6*cos(th6)*sin(th5),-d5*sin(th5),cos(th6)*sin(th5),-sin(th5)*sin(th6),cos(th5)]
[-d6*cos(th6),d6*sin(th6),0,-sin(th6),-cos(th6),0]
[0,0,0,0,0,1]



化简版
[d6*cos(th2+th3+th4)*cos(th6)-d6*sin(th2+th3+th4)*cos(th5)*sin(th6)
-d4*sin(th2+th3+th4)*sin(th6)+d4*cos(th2+th3+th4)*cos(th5)*cos(th6)
-d5*sin(th2+th3+th4)*cos(th6)*sin(th5)
-a3*cos(th2+th3)*sin(th5)*cos(th6)-a2*cos(th2)*cos(th6)*sin(th5)


a2*cos(th2)*sin(th5)*sin(th6)
-d4*sin(th2+th3+th4)*cos(th6)-d4*cos(th2+th3+th4)*cos(th5)*sin(th6)
+d5*sin(th2+th3+th4)*sin(th5)*sin(th6)
-d6*cos(th2+th3+th4)*sin(th6)-d6*sin(th2+th3+th4)*cos(th5)*cos(th6)
+a3*cos(th2)*cos(th3)*sin(th5)*sin(th6)-a3*sin(th2)*sin(th3)*sin(th5)*sin(th6)=a3cos23s5s6

J13,*(1/2)
d4*sin(th2+th3+th4-th5)-d4*sin(th2+th3+th4+th5)==-d4cos234sin5
-d5*sin(th2+th3+th4+th5)-d5*sin(th2+th3+th4-th5)==-d5sin234cos5
-a2*cos(th2+th5)-a2*cos(th2-th5)==-a2cos2cos5
-a3*cos(th2+th3-th5)-a3*cos(th2+th3+th5)==-a3cos23cos5

cos(th2+th3+th4)*sin(th6)+sin(th2+th3+th4)*cos(th5)*cos(th6),
cos(th2+th3+th4)*cos(th6)-sin(th2+th3+th4)*cos(th5)*sin(th6),
-sin(th2+th3+th4)*sin(th5)]

J21
[d5*cos(th5)*cos(th6)-d6*sin(th5)*sin(th6)
+a3*cos(th4)*sin(th6)+a3*cos(th5)*cos(th6)*sin(th4)
+a2*cos(th3)*cos(th4)*sin(th6)-a2*sin(th3)*sin(th4)*sin(th6)==a2sin6cos34
+a2*cos(th3)*sin(th4)*cos(th5)*cos(th6)
+a2*sin(th3)*cos(th4)*cos(th5)*cos(th6)==a2sin23c5c6
J22
a3*cos(th4)*cos(th6)-d5*cos(th5)*sin(th6)-d6*cos(th6)*sin(th5)+a2*cos(th3)*cos(th4)*cos(th6)-a2*cos(th6)*sin(th3)*sin(th4)-a3*cos(th5)*sin(th4)*sin(th6)-a2*cos(th3)*cos(th5)*sin(th4)*sin(th6)-a2*cos(th4)*cos(th5)*sin(th3)*sin(th6),

-sin(th5)*(d5+a2*sin(th3+th4)+a3*sin(th4)),
cos(th6)*sin(th5),
-sin(th5)*sin(th6),
cos(th5)]

[d5*cos(th5)*cos(th6)+a3*cos(th4)*sin(th6)-d6*sin(th5)*sin(th6)+a3*cos(th5)*cos(th6)*sin(th4),a3*cos(th4)*cos(th6)-d5*cos(th5)*sin(th6)-d6*cos(th6)*sin(th5)-a3*cos(th5)*sin(th4)*sin(th6),-sin(th5)*(d5+a3*sin(th4)),cos(th6)*sin(th5),-sin(th5)*sin(th6),cos(th5)]
[d5*cos(th5)*cos(th6)-d6*sin(th5)*sin(th6),-d5*cos(th5)*sin(th6)-d6*cos(th6)*sin(th5),-d5*sin(th5),cos(th6)*sin(th5),-sin(th5)*sin(th6),cos(th5)]
[-d6*cos(th6),d6*sin(th6),0,-sin(th6),-cos(th6),0]
[0,0,0,0,0,1]


show split line
----------------------------------------------------------------------------------------------------
## 2019版本数据
---------------------------------------------------------------------------------------------------- 100个
非标准DH版本 UR5

T16=
cos(th6)*(sin(th1)*sin(th5)+cos(th2+th3+th4)*cos(th1)*cos(th5))-sin(th2+th3+th4)*cos(th1)*sin(th6), ①
-sin(th6)*(sin(th1)*sin(th5)+cos(th2+th3+th4)*cos(th1)*cos(th5))-sin(th2+th3+th4)*cos(th1)*cos(th6), ②
cos(th2+th3+th4)*cos(th1)*sin(th5)-cos(th5)*sin(th1), ③
z5*cos(th2+th3+th4)*cos(th1)*sin(th5)-(z2+z3+y1)*sin(th1)-y2*cos(th1)*sin(th2)-z5*cos(th5)*sin(th1)
-y4*cos(th1)*sin(th2+th3+th4)-y3*cos(th1)*sin(th2+th3) ④

[-cos(th6)*(cos(th1)*sin(th5)-cos(th2+th3+th4)*cos(th5)*sin(th1))-sin(th2+th3+th4)*sin(th1)*sin(th6), ⑤
sin(th6)*(cos(th1)*sin(th5)-cos(th2+th3+th4)*cos(th5)*sin(th1))-sin(th2+th3+th4)*cos(th6)*sin(th1), ⑥
cos(th1)*cos(th5)+cos(th2+th3+th4)*sin(th1)*sin(th5), ⑦
(y1+z2+z3)*cos(th1)+z5*cos(th1)*cos(th5)-y2*sin(th1)*sin(th2)
-y4*sin(th1)*sin(th2+th3+th4)-y3*sin(th1)*sin(th2+th3)+z5*cos(th2+th3+th4)*sin(th1)*sin(th5)] ⑧

[-cos(th2+th3+th4)*sin(th6)-sin(th2+th3+th4)*cos(th5)*cos(th6), ⑨
sin(th2+th3+th4)*cos(th5)*sin(th6)-cos(th2+th3+th4)*cos(th6), ⑩
-sin(th2+th3+th4)*sin(th5), ⑪
z1-y3*cos(th2+th3)-y2*cos(th2)-z5*sin(th5)*sin(th2+th3+th4)-y4*cos(th2+th3+th4) ⑫
----------------------------------------------------------------------------------------------------
T26=
cos(th2+th3+th4)*cos(th5)*cos(th6)-sin(th2+th3+th4)*sin(th6)=nx*cos(th1)+ny*sin(th1) ①X
-sin(th2+th3+th4)*cos(th6)-cos(th2+th3+th4)*cos(th5)*sin(th6)=ox*cos(th1)+oy*sin(th1)②X
cos(th2+th3+th4)*sin(th5) = ax*cos(th1)+ay*sin(th1)  ③
-y3*sin(th2+th3)-y2*sin(th2)+z5*sin(th5)*cos(th2+th3+th4)-y4*sin(th2+th3+th4)= px*cos(th1)+py*sin(th1)  ④

[cos(th2+th3+th4)*sin(th6)+sin(th2+th3+th4)*cos(th5)*cos(th6) = -nz  ⑤X
cos(th2+th3+th4)*cos(th6)-sin(th2+th3+th4)*cos(th5)*sin(th6) = -oz  ⑥X
sin(th2+th3+th4)*sin(th5) = -az  ⑦
y3*cos(th2+th3)+y2*cos(th2)+z5*sin(th5)*sin(th2+th3+th4)+y4*cos(th2+th3+th4)=z1-pz ⑧

[-cos(th6)*sin(th5) = ny*cos(th1)-nx*sin(th1)  ⑨
sin(th5)*sin(th6) = oy*cos(th1)-ox*sin(th1)  ⑩
cos(th5) = ay*cos(th1)-ax*sin(th1)  ⑪
z2+z3+z5*cos(th5) = py*cos(th1)-y1-px*sin(th1)   ⑫
----------------------------------------------------------------------------------------------------
T25i=
[cos(th6)*(nx*cos(th1)+ny*sin(th1))-sin(th6)*(ox*cos(th1)+oy*sin(th1))
=cos(th2+th3+th4)*cos(th5) ①
ax*cos(th1)+ay*sin(th1) = -cos(th2+th3+th4)*sin(th5) ②
-sin(th6)*(nx*cos(th1)+ny*sin(th1))-cos(th6)*(ox*cos(th1)+oy*sin(th1))= sin(th2+th3+th4) ③
px*cos(th1)-y6*(ax*cos(th1)+ay*sin(th1))+py*sin(th1)
=-y5*sin(th2+th3+th4)-y4*sin(th2+th3)-y3*sin(th2) ④

[cos(th6)*(ny*cos(th1)-nx*sin(th1))-sin(th6)*(oy*cos(th1)-ox*sin(th1)) = sin(th5) ⑤
ay*cos(th1)-ax*sin(th1) = cos(th5) ⑥
-sin(th6)*(ny*cos(th1)-nx*sin(th1))-cos(th6)*(oy*cos(th1)-ox*sin(th1))=0 ⑦
py*cos(th1)-y6*(ay*cos(th1)-ax*sin(th1))-px*sin(th1) = y2+z3+z4 ⑧

nz*cos(th6)-oz*sin(th6) = -sin(th2+th3+th4)*cos(th5) ⑨
az=sin(th2+th3+th4)*sin(th5) ⑩
-oz*cos(th6)-nz*sin(th6) = cos(th2+th3+th4) ⑪
pz-az*y6=z2-y4*cos(th2+th3)-y3*cos(th2)-y5*cos(th2+th3+th4) ⑫
----------------------------------------------------------------------------------------------------
py*cos(th1)-px*sin(th1)-y6*(ay*cos(th1)-ax*sin(th1)) = y2+z3+z4 ⑧ => th1
ay*cos(th1)-ax*sin(th1) = cos(th5) ⑥ => th5
sin(th6)*(ny*cos(th1)-nx*sin(th1))+cos(th6)*(oy*cos(th1)-ox*sin(th1))=0 ⑦ => th6
az=sin(th2+th3+th4)*sin(th5) ⑩
-oz*cos(th6)-nz*sin(th6) = cos(th2+th3+th4) ⑪ => th2+th3+th4
px*cos(th1) +py*sin(th1)-y6*(ax*cos(th1)+ay*sin(th1))
=-y5*sin(th2+th3+th4)-y4*sin(th2+th3)-y3*sin(th2) ④
pz-az*y6=z2-y4*cos(th2+th3)-y3*cos(th2)-y5*cos(th2+th3+th4) ⑫
----------------------------------------------------------------------------------------------------
offset版
T25=T1i*Tq*T6i  
-cos(th2+th3+th4+th5)/2-cos(th2+th3+th4-th5)/2= cos(th6)*(nx*cos(th1)+ny*sin(th1))-sin(th6)*(ox*cos(th1)+oy*sin(th1)) ①
sin(th2+th3+th4) = sin(th6)*(nx*cos(th1)+ny*sin(th1))+cos(th6)*(ox*cos(th1)+oy*sin(th1)) ②
sin(th2+th3+th4+th5)/2-sin(th2+th3+th4-th5)/2 = ax*cos(th1)+ay*sin(th1) ③
a3*sin(th2+th3)+a2*sin(th2)-d5*sin(th2+th3+th4)=px*cos(th1)+py*sin(th1)-d6*(ax*cos(th1)+ay*sin(th1))④

-sin(th2+th3+th4-th5)/2-sin(th2+th3+th4+th5)/2 = nz*cos(th6)-oz*sin(th6) ⑤
-cos(th2+th3+th4)=oz*cos(th6)+nz*sin(th6) ⑥
cos(th2+th3+th4-th5)/2-cos(th2+th3+th4+th5)/2 = az⑦
d5*cos(th2+th3+th4)-a2*cos(th2)-a3*cos(th2+th3) = pz-d1-az*d6⑧

sin(th5)= [sin(th6)*(oy*cos(th1)-ox*sin(th1))-cos(th6)*(ny*cos(th1)-nx*sin(th1)) ⑨
0=-sin(th6)*(ny*cos(th1)-nx*sin(th1))-cos(th6)*(oy*cos(th1)-ox*sin(th1)) ⑩
cos(th5)= ax*sin(th1)-ay*cos(th1) ⑪
d4= d6*(ay*cos(th1)-ax*sin(th1))-py*cos(th1)+px*sin(th1) ⑫
-------------------------------------------------------------------------------
T26=Ti1*Tq
nx*cos(th1)+ny*sin(th1)= cos(th2+th3+th4)*cos(th5)*cos(th6)-sin(th2+th3+th4)*sin(th6)
ox*cos(th1)+oy*sin(th1)= -sin(th2+th3+th4)*cos(th6)-cos(th2+th3+th4)*cos(th5)*sin(th6)
ax*cos(th1)+ay*sin(th1)= -cos(th2+th3+th4)*sin(th5)
px*cos(th1)+py*sin(th1)=d5*sin(th2+th3+th4)+a3*cos(th2+th3)+a2*cos(th2)-d6*sin(th5)*cos(th2+th3+th4)

nz= cos(th2+th3+th4)*sin(th6)+sin(th2+th3+th4)*cos(th5)*cos(th6)
oz= cos(th2+th3+th4)*cos(th6)-sin(th2+th3+th4)*cos(th5)*sin(th6)
az=-sin(th2+th3+th4)*sin(th5)
pz-d1= -d5*cos(th2+th3+th4)+a3*sin(th2+th3)+a2*sin(th2)-d6*sin(th5)*sin(th2+th3+th4)

nx*sin(th1)-ny*cos(th1)= cos(th6)*sin(th5)
ox*sin(th1)-oy*cos(th1)= -sin(th5)*sin(th6)
ax*sin(th1)-ay*cos(th1)= cos(th5)
px*sin(th1)-py*cos(th1)= d4+d6*cos(th5)

----------------------------------------------------------------
offset=0  T25=Ti1*Tp*Ti6
Ti1*Tp*Ti6= 
[cos(th6)*(nx*cos(th1)+ny*sin(th1))-sin(th6)*(ox*cos(th1)+oy*sin(th1)),sin(th6)*(nx*cos(th1)+ny*sin(th1))+cos(th6)*(ox*cos(th1)+oy*sin(th1)),ax*cos(th1)+ay*sin(th1),px*cos(th1)-d6*(ax*cos(th1)+ay*sin(th1))+py*sin(th1)]
[nz*cos(th6)-oz*sin(th6),oz*cos(th6)+nz*sin(th6),az,pz-d1-az*d6]
[sin(th6)*(oy*cos(th1)-ox*sin(th1))-cos(th6)*(ny*cos(th1)-nx*sin(th1)),-sin(th6)*(ny*cos(th1)-nx*sin(th1))-cos(th6)*(oy*cos(th1)-ox*sin(th1)),ax*sin(th1)-ay*cos(th1),d6*(ay*cos(th1)-ax*sin(th1))-py*cos(th1)+px*sin(th1)]

T25=
[cos(th2+th3+th4)*cos(th5),-sin(th2+th3+th4),-cos(th2+th3+th4)*sin(th5),a3*cos(th2+th3)+a2*cos(th2)+d5*sin(th2+th3+th4)]
[sin(th2+th3+th4)*cos(th5),cos(th2+th3+th4),-sin(th2+th3+th4)*sin(th5),a3*sin(th2+th3)+a2*sin(th2)-d5*cos(th2+th3+th4)]
[sin(th5),0,cos(th5),d4]
-----------------------------------------------------------

Jacobi= UR5
[d6*(cos(th1)*cos(th5)+cos(th2+th3+th4)*sin(th1)*sin(th5))+d4*cos(th1)-a3*cos(th2+th3)*sin(th1)-a2*cos(th2)*sin(th1)-d5*sin(th2+th3+th4)*sin(th1),
d5*cos(th2+th3+th4)*cos(th1)-a2*cos(th1)*sin(th2)-a3*sin(th2+th3)*cos(th1)+d6*sin(th2+th3+th4)*cos(th1)*sin(th5),
d5*cos(th2+th3+th4)*cos(th1)-a3*sin(th2+th3)*cos(th1)+d6*sin(th2+th3+th4)*cos(th1)*sin(th5),
d5*cos(th2+th3+th4)*cos(th1)+d6*sin(th2+th3+th4)*cos(th1)*sin(th5),
-d6*(sin(th1)*sin(th5)+cos(th2+th3+th4)*cos(th1)*cos(th5))]
[d6*(cos(th5)*sin(th1)-cos(th2+th3+th4)*cos(th1)*sin(th5))+d4*sin(th1)+a3*cos(th2+th3)*cos(th1)+a2*cos(th1)*cos(th2)+d5*sin(th2+th3+th4)*cos(th1),
d5*cos(th2+th3+th4)*sin(th1)-a2*sin(th1)*sin(th2)-a3*sin(th2+th3)*sin(th1)+d6*sin(th2+th3+th4)*sin(th1)*sin(th5),
d5*cos(th2+th3+th4)*sin(th1)-a3*sin(th2+th3)*sin(th1)+d6*sin(th2+th3+th4)*sin(th1)*sin(th5),
d5*cos(th2+th3+th4)*sin(th1)+d6*sin(th2+th3+th4)*sin(th1)*sin(th5),
d6*(cos(th1)*sin(th5)-cos(th2+th3+th4)*cos(th5)*sin(th1))]
[0,a3*cos(th2+th3)+a2*cos(th2)+d5*sin(th2+th3+th4)-d6*cos(th2+th3+th4)*sin(th5),
a3*cos(th2+th3)+d5*sin(th2+th3+th4)-d6*cos(th2+th3+th4)*sin(th5),
d5*sin(th2+th3+th4)-d6*cos(th2+th3+th4)*sin(th5),
-d6*sin(th2+th3+th4)*cos(th5)]
----------------------------------------------------------------------------------------------------
Jocobi_UR
    J(1,i)=diff(T16(1,4),th(i)); %px;
    J(2,i)=diff(T16(2,4),th(i)); %py;
    J(3,i)=diff(T16(3,4),th(i)); %pz;
[0,sin(th1),sin(th1),sin(th1),sin(th2+th3+th4)*cos(th1),cos(th5)*sin(th1)-cos(th2+th3+th4)*cos(th1)*sin(th5)]
[0,-cos(th1),-cos(th1),-cos(th1),sin(th2+th3+th4)*sin(th1),-cos(th1)*cos(th5)-cos(th2+th3+th4)*sin(th1)*sin(th5)]
[1,0,0,0,-cos(th2+th3+th4),-sin(th2+th3+th4)*sin(th5)]

Jocobi_GP
    J(1,i)=diff(T16(1,4),th(i)); %px;
    J(2,i)=diff(T16(2,4),th(i)); %py;
    J(3,i)=diff(T16(3,4),th(i)); %pz;

[0,-sin(th1),sin(th1),sin(th2-th3)*cos(th1),
cos(th4)*sin(th1)+sin(th4)*(cos(th1)*sin(th2)*sin(th3)+cos(th1)*cos(th2)*cos(th3)),
sin(th5)*(sin(th1)*sin(th4)-cos(th4)*(cos(th1)*sin(th2)*sin(th3)+cos(th1)*cos(th2)*cos(th3)))-cos(th5)*(cos(th1)*cos(th2)*sin(th3)-cos(th1)*cos(th3)*sin(th2))]
[0,cos(th1),-cos(th1),sin(th2-th3)*sin(th1),
sin(th4)*(sin(th1)*sin(th2)*sin(th3)+cos(th2)*cos(th3)*sin(th1))-cos(th1)*cos(th4),
-sin(th5)*(cos(th1)*sin(th4)+cos(th4)*(sin(th1)*sin(th2)*sin(th3)+cos(th2)*cos(th3)*sin(th1)))-cos(th5)*(cos(th2)*sin(th1)*sin(th3)-cos(th3)*sin(th1)*sin(th2))]
[1,0,0,cos(th2-th3),-sin(th2-th3)*sin(th4),cos(th2-th3)*cos(th5)+sin(th2-th3)*cos(th4)*sin(th5)]

null
----------------------------------------------------------------------------------------------------

## DOF9数据

T=T4*T5*T6*T7*T8*T9; 原始数据

[-cos(th9)*(cos(th8)*(sin(th4)*sin(th6)-cos(th4)*cos(th5)*cos(th6))+cos(th4)*sin(th5)*sin(th8))-sin(th9)*(cos(th6)*sin(th4)+cos(th4)*cos(th5)*sin(th6)),
sin(th9)*(cos(th8)*(sin(th4)*sin(th6)-cos(th4)*cos(th5)*cos(th6))+cos(th4)*sin(th5)*sin(th8))-cos(th9)*(cos(th6)*sin(th4)+cos(th4)*cos(th5)*sin(th6)),
sin(th8)*(sin(th4)*sin(th6)-cos(th4)*cos(th5)*cos(th6))-cos(th4)*cos(th8)*sin(th5),
-a8*cos(th8)*(sin(th4)*sin(th6)-cos(th4)*cos(th5)*cos(th6))-a9*sin(th9)*(cos(th6)*sin(th4)+cos(th4)*cos(th5)*sin(th6))-d7*cos(th4)*sin(th5)-a9*cos(th9)*(cos(th8)*(sin(th4)*sin(th6)-cos(th4)*cos(th5)*cos(th6))+cos(th4)*sin(th5)*sin(th8))-a8*cos(th4)*sin(th5)*sin(th8)]

[cos(th9)*(cos(th8)*(cos(th4)*sin(th6)+cos(th5)*cos(th6)*sin(th4))-sin(th4)*sin(th5)*sin(th8))+sin(th9)*(cos(th4)*cos(th6)-cos(th5)*sin(th4)*sin(th6)),
cos(th9)*(cos(th4)*cos(th6)-cos(th5)*sin(th4)*sin(th6))-sin(th9)*(cos(th8)*(cos(th4)*sin(th6)+cos(th5)*cos(th6)*sin(th4))-sin(th4)*sin(th5)*sin(th8)),
-sin(th8)*(cos(th4)*sin(th6)+cos(th5)*cos(th6)*sin(th4))-cos(th8)*sin(th4)*sin(th5),
a8*cos(th8)*(cos(th4)*sin(th6)+cos(th5)*cos(th6)*sin(th4))+a9*sin(th9)*(cos(th4)*cos(th6)-cos(th5)*sin(th4)*sin(th6))-d7*sin(th4)*sin(th5)+a9*cos(th9)*(cos(th8)*(cos(th4)*sin(th6)+cos(th5)*cos(th6)*sin(th4))-sin(th4)*sin(th5)*sin(th8))-a8*sin(th4)*sin(th5)*sin(th8)]

[cos(th9)*(cos(th5)*sin(th8)+cos(th6)*cos(th8)*sin(th5))-sin(th5)*sin(th6)*sin(th9),
-sin(th9)*(cos(th5)*sin(th8)+cos(th6)*cos(th8)*sin(th5))-cos(th9)*sin(th5)*sin(th6),
cos(th5)*cos(th8)-cos(th6)*sin(th5)*sin(th8),
d7*cos(th5)+a9*cos(th9)*(cos(th5)*sin(th8)+cos(th6)*cos(th8)*sin(th5))+a8*cos(th5)*sin(th8)+a8*cos(th6)*cos(th8)*sin(th5)-a9*sin(th5)*sin(th6)*sin(th9)]
----------------------------------------------------------------------------------------------------

外部实体6轴
T= T1*T2*T3*T4*T5*T6; 

n
cos(th6)*(sin(th1)*sin(th5)+cos(th2+th3+th4)*cos(th1)*cos(th5))-sin(th2+th3+th4)*cos(th1)*sin(th6),
-cos(th6)*(cos(th1)*sin(th5)-cos(th2+th3+th4)*cos(th5)*sin(th1))-sin(th2+th3+th4)*sin(th1)*sin(th6),
cos(th2+th3+th4)*sin(th6)+sin(th2+th3+th4)*cos(th5)*cos(th6),

o
-sin(th6)*(sin(th1)*sin(th5)+cos(th2+th3+th4)*cos(th1)*cos(th5))-sin(th2+th3+th4)*cos(th1)*cos(th6),
sin(th6)*(cos(th1)*sin(th5)-cos(th2+th3+th4)*cos(th5)*sin(th1))-sin(th2+th3+th4)*cos(th6)*sin(th1),
cos(th2+th3+th4)*cos(th6)-sin(th2+th3+th4)*cos(th5)*sin(th6),

a
cos(th5)*sin(th1)-cos(th2+th3+th4)*cos(th1)*sin(th5),
-cos(th1)*cos(th5)-cos(th2+th3+th4)*sin(th1)*sin(th5),
-sin(th2+th3+th4)*sin(th5),

p
d6*(cos(th5)*sin(th1)-cos(th2+th3+th4)*cos(th1)*sin(th5))+d4*sin(th1)+a2*cos(th1)*cos(th2)+d5*sin(th2+th3+th4)*cos(th1)+a3*cos(th1)*cos(th2)*cos(th3)-a3*cos(th1)*sin(th2)*sin(th3)]
a2*cos(th2)*sin(th1)-d4*cos(th1)-d6*(cos(th1)*cos(th5)+cos(th2+th3+th4)*sin(th1)*sin(th5))+d5*sin(th2+th3+th4)*sin(th1)+a3*cos(th2)*cos(th3)*sin(th1)-a3*sin(th1)*sin(th2)*sin(th3)]
d1+d5*(sin(th2+th3)*sin(th4)-cos(th2+th3)*cos(th4))+a3*sin(th2+th3)+a2*sin(th2)-d6*sin(th5)*(cos(th2+th3)*sin(th4)+sin(th2+th3)*cos(th4))]
----------------------------------------------------------------------------------------------------

三系同心GP7
-sin(th2+th3)*sin(th5)-cos(th2+th3)*cos(th4)*cos(th5)=cos(th6)*(nx*cos(th1)+ny*sin(th1))-sin(th6)*(ox*cos(th1)+oy*sin(th1))
cos(th2+th3)*sin(th5)+sin(th2+th3)*cos(th4)*cos(th5)=nz*cos(th6)-oz*sin(th6)
sin(th4)*cos(th5)=sin(th6)*(oy*cos(th1)-ox*sin(th1))-cos(th6)*(ny*cos(th1)-nx*sin(th1))

-cos(th2+th3)*sin(th4)=sin(th6)*(nx*cos(th1)+ny*sin(th1))+cos(th6)*(ox*cos(th1)+oy*sin(th1))
-sin(th2+th3)*sin(th4)=oz*cos(th6)+nz*sin(th6)
cos(th4)=-sin(th6)*(ny*cos(th1)-nx*sin(th1))-cos(th6)*(oy*cos(th1)-ox*sin(th1))

sin(th2+th3)*cos(th5)+cos(th2+th3)*cos(th4)*sin(th5)=ax*cos(th1)+ay*sin(th1)
-cos(th2+th3)*cos(th5)+sin(th2+th3)*cos(th4)*sin(th5)=az
sin(th4)*sin(th5)=ax*sin(th1)-ay*cos(th1)

a2*cos(th2)+d4*sin(th2+th3)=-d6*(ax*cos(th1)+ay*sin(th1))+px*cos(th1)+py*sin(th1)
a2*sin(th2)-d4*cos(th2+th3)=pz-d1-az*d6
0=d6*(ay*cos(th1)-ax*sin(th1))+px*sin(th1)-py*cos(th1)

T4567=T4*T5*T6*T7== Tq98=Tq*T9i*T8i;

cos(th4)*cos(th5)*cos(th6)-sin(th4)*sin(th6) == cos(th8)*(nx*cos(th9)-ox*sin(th9))-ax*sin(th8)
cos(th4)*sin(th6)+cos(th5)*cos(th6)*sin(th4) == cos(th8)*(ny*cos(th9)-oy*sin(th9))-ay*sin(th8)
cos(th6)*sin(th5) == cos(th8)*(nz*cos(th9)-oz*sin(th9))-az*sin(th8)

-cos(th4)*sin(th5) == sin(th8)*(nx*cos(th9)-ox*sin(th9))+ax*cos(th8)
-sin(th4)*sin(th5) == sin(th8)*(ny*cos(th9)-oy*sin(th9))+ay*cos(th8)
cos(th5) == sin(th8)*(nz*cos(th9)-oz*sin(th9))+az*cos(th8)

cos(th6)*sin(th4)+cos(th4)*cos(th5)*sin(th6) ==-ox*cos(th9)-nx*sin(th9)
cos(th5)*sin(th4)*sin(th6)-cos(th4)*cos(th6) ==-oy*cos(th9)-ny*sin(th9)
sin(th5)*sin(th6) ==-oz*cos(th9)-nz*sin(th9)

-d7*cos(th4)*sin(th5) == px-a9*nx-a8*(nx*cos(th9)-ox*sin(th9))
-d7*sin(th4)*sin(th5) == py-a9*ny-a8*(ny*cos(th9)-oy*sin(th9))
d7*cos(th5) == pz-a9*nz-a8*(nz*cos(th9)-oz*sin(th9))
----------------------------------------------------------------------------------------------------
 
T58=T5*T6*T7*T8;==T4i*Tq*T9i  原始数据

[cos(th5)*cos(th6)*cos(th8)-sin(th5)*sin(th8)== 
[cos(th9)*(nx*cos(th4)+ny*sin(th4))-sin(th9)*(ox*cos(th4)+oy*sin(th4))
-cos(th5)*sin(th6)=sin(th9)*(nx*cos(th4)+ny*sin(th4))+cos(th9)*(ox*cos(th4)+oy*sin(th4))
-cos(th8)*sin(th5)-cos(th5)*cos(th6)*sin(th8)== ax*cos(th4)+ay*sin(th4)
a8*cos(th5)*cos(th6)*cos(th8)-a8*sin(th5)*sin(th8)-d7*sin(th5)]== 
px*cos(th4)-a9*(nx*cos(th4)+ny*sin(th4))+py*sin(th4)]

[cos(th5)*sin(th8)+cos(th6)*cos(th8)*sin(th5)== [nz*cos(th9)-oz*sin(th9)
-sin(th5)*sin(th6)== oz*cos(th9)+nz*sin(th9)
cos(th5)*cos(th8)-cos(th6)*sin(th5)*sin(th8)== az
d7*cos(th5)+a8*cos(th5)*sin(th8)+a8*cos(th6)*cos(th8)*sin(th5)]== pz-a9*nz]


[-cos(th8)*sin(th6)== 
[sin(th9)*(oy*cos(th4)-ox*sin(th4))-cos(th9)*(ny*cos(th4)-nx*sin(th4))
-cos(th6)== -sin(th9)*(ny*cos(th4)-nx*sin(th4))-cos(th9)*(oy*cos(th4)-ox*sin(th4))
sin(th6)*sin(th8)== ax*sin(th4)-ay*cos(th4)
-a8*cos(th8)*sin(th6)]== a9*(ny*cos(th4)-nx*sin(th4))-py*cos(th4)+px*sin(th4)]


-sin(th4)*sin(th6) + cos(th4)*cos(th5)*cos(th6) == 
-ax*sin(th8) + cos(th8)*(nx*cos(th9)-ox*sin(th9))
cos(th4)*sin(th6) + sin(th4)*cos(th5)*cos(th6) == 
-ay*sin(th8) + cos(th8)*(ny*cos(th9)-oy*sin(th9))
sin(th5)*cos(th6) == -az*sin(th8) + cos(th8)*(nz*cos(th9)-oz*sin(th9))

  sin(th4)*cos(th6) + cos(th4)*cos(th5)*sin(th6) == -ox*cos(th9)-nx*sin(th9)
 -cos(th4)*cos(th6) + sin(th4)*cos(th5)*sin(th6) == -oy*cos(th9)-ny*sin(th9)
                               sin(th5)*sin(th6) == -oz*cos(th9)-nz*sin(th9)
----------------------------------------------------------------------------------------------------



T58=T5*T6*T7*T8;==T4i*Tq*T9i  观察求解

n
sin(th5)*sin(th8)-cos(th5)*cos(th6)*cos(th8) == 
sin(th9)*(ox*cos(th4)+oy*sin(th4))-cos(th9)*(nx*cos(th4)+ny*sin(th4))   ①
cos(th5)*sin(th8)+sin(th5)*cos(th6)*cos(th8) == nz*cos(th9)-oz*sin(th9) 
-sin(th6)*cos(th8)==sin(th9)*(oy*cos(th4)-ox*sin(th4))-cos(th9)*(ny*cos(th4)-nx*sin(th4))    ③

o
-cos(th5)*sin(th6)== sin(th9)*(nx*cos(th4)+ny*sin(th4))+cos(th9)*(ox*cos(th4)+oy*sin(th4))   ④
-sin(th5)*sin(th6)==oz*cos(th9)+nz*sin(th9)        ⑤
cos(th6) == sin(th9)*(ny*cos(th4)-nx*sin(th4))+cos(th9)*(oy*cos(th4)-ox*sin(th4))    ⑥

a
-sin(th5)*cos(th8)-cos(th5)*cos(th6)*sin(th8) == ax*cos(th4)+ay*sin(th4)   ⑦
cos(th5)*cos(th8)-sin(th5)*cos(th6)* sin(th8) == az                     ⑧
sin(th6)*sin(th8) == ax*sin(th4)-ay*cos(th4)   ⑨

p
-d7*sin(th5)-a8*(sin(th5)*sin(th8)-cos(th5)*cos(th6)*cos(th8)) == 
px*cos(th4)+py*sin(th4)-a9*(nx*cos(th4)+ny*sin(th4))  ⑩
d7*cos(th5)+a8*(cos(th5)*sin(th8)+sin(th5)*cos(th6)*cos(th8))==pz-a9*nz   ①①
-a8*sin(th6)*cos(th8) == px*sin(th4)-py*cos(th4)+a9*(ny*cos(th4)-nx*sin(th4))  ①②


-d7*sin(th5) - a8*(sin(th5)*sin(th8)-cos(th5)*cos(th6)*cos(th8)) == 
px*cos(th4)+py*sin(th4)   ⑩
d7*cos(th5)+a8*(cos(th5)*sin(th8)+sin(th5)*cos(th6)*cos(th8)) ==pz  ①①
-a8*sin(th6)*cos(th8) == px*sin(th4)-py*cos(th4) ①②


 
d7>0
d7*(ax*cos(th8) + sin(th8)*(nx*cos(th9)-ox*sin(th9))) == 
px-a9*nx-a8*(nx*cos(th9)-ox*sin(th9))
d7*(ay*cos(th8) + sin(th8)*(ny*cos(th9)-oy*sin(th9))) == 
py-a9*ny-a8*(ny*cos(th9)-oy*sin(th9))
d7*(az*cos(th8) + sin(th8)*(nz*cos(th9)-oz*sin(th9))) == 
pz-a9*nz-a8*(nz*cos(th9)-oz*sin(th9))

d7*ax*cos(th8) + (d7*sin(th8)+a8)*(nx*cos(th9)-ox*sin(th9))) == px-a9*nx  ×
d7*ay*cos(th8) + (d7*sin(th8)+a8)*(ny*cos(th9)-oy*sin(th9))) == py-a9*ny
d7*az*cos(th8) + (d7*sin(th8)+a8)*(nz*cos(th9)-oz*sin(th9))) == pz-a9*nz

d7 == (pz-a9*nz-a8*(nz*cos(th9)-oz*sin(th9))) / (az*cos(th8) + sin(th8)*(nz*cos(th9)-oz*sin(th9)))
(pz-a9*nz-a8*(nz*cos(th9)-oz*sin(th9)))*((ax*cos(th8)+sin(th8)*(nx*cos(th9)-ox*sin(th9)))== 
(px-a9*nx-a8*(nx*cos(th9)-ox*sin(th9)))*((az*cos(th8)+sin(th8)*(nz*cos(th9)-oz*sin(th9)))

(pz-a9*nz-a8*(nz*cos(th9)-oz*sin(th9)))*((ay*cos(th8)+sin(th8)*(ny*cos(th9)-oy*sin(th9))) == 
(py-a9*ny-a8*(ny*cos(th9)-oy*sin(th9)))*((az*cos(th8)+sin(th8)*(nz*cos(th9)-oz*sin(th9)))
----------------------------------------------------------------------------------------------------


DOF9 %22matrix

[cos(th9)*(sin(th8)*(cos(th5)*sin(th1)+sin(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))+cos(th8)*(cos(th6)*(sin(th1)*sin(th5)-cos(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))-sin(th6)*(cos(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))-sin(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3)))))-sin(th9)*(sin(th6)*(sin(th1)*sin(th5)-cos(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))+cos(th6)*(cos(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))-sin(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3)))),-cos(th9)*(sin(th6)*(sin(th1)*sin(th5)-cos(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))+cos(th6)*(cos(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))-sin(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))))-sin(th9)*(sin(th8)*(cos(th5)*sin(th1)+sin(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))+cos(th8)*(cos(th6)*(sin(th1)*sin(th5)-cos(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))-sin(th6)*(cos(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))-sin(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))))),cos(th8)*(cos(th5)*sin(th1)+sin(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))-sin(th8)*(cos(th6)*(sin(th1)*sin(th5)-cos(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))-sin(th6)*(cos(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))-sin(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3)))),d6*(cos(th5)*sin(th1)+sin(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))+d7*(cos(th5)*sin(th1)+sin(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))+d5*(cos(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))-sin(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3)))+d4*sin(th1)+a8*cos(th8)*(cos(th6)*(sin(th1)*sin(th5)-cos(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))-sin(th6)*(cos(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))-sin(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))))-a9*sin(th9)*(sin(th6)*(sin(th1)*sin(th5)-cos(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))+cos(th6)*(cos(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))-sin(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))))+a9*cos(th9)*(sin(th8)*(cos(th5)*sin(th1)+sin(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))+cos(th8)*(cos(th6)*(sin(th1)*sin(th5)-cos(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))-sin(th6)*(cos(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))-sin(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3)))))+a2*cos(th1)*cos(th2)+a8*sin(th8)*(cos(th5)*sin(th1)+sin(th5)*(cos(th4)*(cos(th1)*sin(th2)*sin(th3)-cos(th1)*cos(th2)*cos(th3))+sin(th4)*(cos(th1)*cos(th2)*sin(th3)+cos(th1)*cos(th3)*sin(th2))))+a3*cos(th1)*cos(th2)*cos(th3)-a3*cos(th1)*sin(th2)*sin(th3)]


[sin(th9)*(sin(th6)*(cos(th1)*sin(th5)+cos(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))-cos(th6)*(cos(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))-sin(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))))-cos(th9)*(cos(th8)*(cos(th6)*(cos(th1)*sin(th5)+cos(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))+sin(th6)*(cos(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))-sin(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))))+sin(th8)*(cos(th1)*cos(th5)-sin(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))),cos(th9)*(sin(th6)*(cos(th1)*sin(th5)+cos(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))-cos(th6)*(cos(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))-sin(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))))+sin(th9)*(cos(th8)*(cos(th6)*(cos(th1)*sin(th5)+cos(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))+sin(th6)*(cos(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))-sin(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))))+sin(th8)*(cos(th1)*cos(th5)-sin(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))),sin(th8)*(cos(th6)*(cos(th1)*sin(th5)+cos(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))+sin(th6)*(cos(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))-sin(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))))-cos(th8)*(cos(th1)*cos(th5)-sin(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2)))),d5*(cos(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))-sin(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1)))-d7*(cos(th1)*cos(th5)-sin(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))-d6*(cos(th1)*cos(th5)-sin(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))-d4*cos(th1)-a8*sin(th8)*(cos(th1)*cos(th5)-sin(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))+a2*cos(th2)*sin(th1)-a8*cos(th8)*(cos(th6)*(cos(th1)*sin(th5)+cos(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))+sin(th6)*(cos(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))-sin(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))))+a9*sin(th9)*(sin(th6)*(cos(th1)*sin(th5)+cos(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))-cos(th6)*(cos(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))-sin(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))))-a9*cos(th9)*(cos(th8)*(cos(th6)*(cos(th1)*sin(th5)+cos(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))))+sin(th6)*(cos(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2))-sin(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))))+sin(th8)*(cos(th1)*cos(th5)-sin(th5)*(cos(th4)*(sin(th1)*sin(th2)*sin(th3)-cos(th2)*cos(th3)*sin(th1))+sin(th4)*(cos(th2)*sin(th1)*sin(th3)+cos(th3)*sin(th1)*sin(th2)))))+a3*cos(th2)*cos(th3)*sin(th1)-a3*sin(th1)*sin(th2)*sin(th3)]

 

[sin(th9)*(cos(th6)*(cos(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))-sin(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2)))-cos(th5)*sin(th6)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))))+cos(th9)*(cos(th8)*(sin(th6)*(cos(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))-sin(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2)))+cos(th5)*cos(th6)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))))-sin(th5)*sin(th8)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3)))),cos(th9)*(cos(th6)*(cos(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))-sin(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2)))-cos(th5)*sin(th6)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))))-sin(th9)*(cos(th8)*(sin(th6)*(cos(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))-sin(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2)))+cos(th5)*cos(th6)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))))-sin(th5)*sin(th8)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3)))),-sin(th8)*(sin(th6)*(cos(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))-sin(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2)))+cos(th5)*cos(th6)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))))-cos(th8)*sin(th5)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))),d1+a2*sin(th2)-d5*(cos(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))-sin(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2)))+a9*cos(th9)*(cos(th8)*(sin(th6)*(cos(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))-sin(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2)))+cos(th5)*cos(th6)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))))-sin(th5)*sin(th8)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))))+a3*cos(th2)*sin(th3)+a3*cos(th3)*sin(th2)+a8*cos(th8)*(sin(th6)*(cos(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))-sin(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2)))+cos(th5)*cos(th6)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))))+a9*sin(th9)*(cos(th6)*(cos(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))-sin(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2)))-cos(th5)*sin(th6)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3))))-d6*sin(th5)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3)))-d7*sin(th5)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3)))-a8*sin(th5)*sin(th8)*(cos(th4)*(cos(th2)*sin(th3)+cos(th3)*sin(th2))+sin(th4)*(cos(th2)*cos(th3)-sin(th2)*sin(th3)))]



